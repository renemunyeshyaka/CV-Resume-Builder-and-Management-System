(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[542],{8932:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/all-cvs",function(){return t(9650)}])},9650:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return l}});var i=t(5893),n=t(7294),o=t(1163),d=t(7066),a=t(1664),s=t.n(a);function l(){let e=(0,o.useRouter)(),[r,t]=(0,n.useState)([]),[a,l]=(0,n.useState)(!0),[p,c]=(0,n.useState)(""),[x,u]=(0,n.useState)(""),[g,h]=(0,n.useState)("all");(0,n.useEffect)(()=>{b()},[]);let b=async()=>{try{let r=localStorage.getItem("token");if(!r){e.push("/login");return}let i=await d.Z.get("".concat("http://localhost:4000","/api/cv/all"),{headers:{Authorization:"Bearer ".concat(r)}});t(i.data),l(!1)}catch(e){console.error("Error fetching CVs:",e),c("Failed to load CVs"),l(!1)}},f=r=>{e.push("/preview?id=".concat(r))},y=r=>{e.push("/verify-documents?cvId=".concat(r))},m=r.filter(e=>{var r,t,i;let n=(null===(r=e.title)||void 0===r?void 0:r.toLowerCase().includes(x.toLowerCase()))||(null===(t=e.user_name)||void 0===t?void 0:t.toLowerCase().includes(x.toLowerCase()))||(null===(i=e.user_email)||void 0===i?void 0:i.toLowerCase().includes(x.toLowerCase()));return"all"===g?n:n&&e.status===g});return a?(0,i.jsx)("div",{style:{padding:"40px",textAlign:"center",minHeight:"100vh"},children:(0,i.jsx)("p",{children:"Loading CVs..."})}):(0,i.jsx)("div",{style:{padding:"20px",minHeight:"100vh",background:"#f5f5f5"},children:(0,i.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[(0,i.jsxs)("div",{style:{marginBottom:"30px",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"20px"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{style:{fontSize:"32px",fontWeight:"700",color:"#333",margin:"0"},children:"All Submitted CVs"}),(0,i.jsxs)("p",{style:{color:"#666",margin:"5px 0 0 0"},children:["Total CVs: ",m.length]})]}),(0,i.jsx)(s(),{href:"/hr-dashboard",children:(0,i.jsx)("button",{style:{padding:"10px 20px",background:"#667eea",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontWeight:"bold"},children:"Back to Dashboard"})})]}),p&&(0,i.jsx)("div",{style:{background:"#f8d7da",color:"#721c24",padding:"15px",borderRadius:"5px",marginBottom:"20px"},children:p}),(0,i.jsx)("div",{style:{background:"white",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",marginBottom:"30px"},children:(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"15px"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",color:"#333"},children:"Search:"}),(0,i.jsx)("input",{type:"text",placeholder:"Search by CV title, user name, or email...",value:x,onChange:e=>u(e.target.value),style:{width:"100%",padding:"10px 15px",border:"1px solid #ddd",borderRadius:"5px",fontSize:"14px",boxSizing:"border-box"}})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",color:"#333"},children:"Filter by Status:"}),(0,i.jsxs)("select",{value:g,onChange:e=>h(e.target.value),style:{width:"100%",padding:"10px 15px",border:"1px solid #ddd",borderRadius:"5px",fontSize:"14px",boxSizing:"border-box"},children:[(0,i.jsx)("option",{value:"all",children:"All CVs"}),(0,i.jsx)("option",{value:"verified",children:"Verified"}),(0,i.jsx)("option",{value:"pending",children:"Pending Review"})]})]})]})}),0===m.length?(0,i.jsx)("div",{style:{background:"white",padding:"40px",borderRadius:"10px",textAlign:"center",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:(0,i.jsx)("p",{style:{color:"#666",fontSize:"16px"},children:"No CVs found matching your criteria"})}):(0,i.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"20px"},children:m.map(e=>(0,i.jsxs)("div",{style:{background:"white",borderRadius:"10px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",overflow:"hidden",transition:"all 0.3s ease",border:"2px solid transparent"},onMouseEnter:e=>{e.currentTarget.style.boxShadow="0 8px 25px rgba(102, 126, 234, 0.3)",e.currentTarget.style.transform="translateY(-5px)",e.currentTarget.style.borderColor="#667eea"},onMouseLeave:e=>{e.currentTarget.style.boxShadow="0 2px 10px rgba(0,0,0,0.1)",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.borderColor="transparent"},children:[(0,i.jsxs)("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"20px",color:"white"},children:[(0,i.jsx)("h3",{style:{margin:"0 0 5px 0",fontSize:"18px",fontWeight:"bold"},children:e.title}),(0,i.jsxs)("p",{style:{margin:"0",opacity:.9,fontSize:"14px"},children:["by ",e.user_name||e.user_email]})]}),(0,i.jsxs)("div",{style:{padding:"20px"},children:[(0,i.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,i.jsxs)("p",{style:{margin:"0 0 5px 0",fontSize:"13px",color:"#666"},children:[(0,i.jsx)("strong",{children:"Email:"})," ",e.user_email]}),(0,i.jsxs)("p",{style:{margin:"0 0 5px 0",fontSize:"13px",color:"#666"},children:[(0,i.jsx)("strong",{children:"Created:"})," ",new Date(e.created_at).toLocaleDateString()]}),(0,i.jsxs)("p",{style:{margin:"0 0 5px 0",fontSize:"13px",color:"#666"},children:[(0,i.jsx)("strong",{children:"Version:"})," ",e.version||1]}),(0,i.jsx)("p",{style:{margin:"0",fontSize:"13px"},children:(0,i.jsx)("span",{style:{display:"inline-block",padding:"5px 10px",borderRadius:"20px",fontSize:"12px",fontWeight:"bold",background:"verified"===e.status?"#d4edda":"#fff3cd",color:"verified"===e.status?"#155724":"#856404"},children:"verified"===e.status?"✓ Verified":"⏳ Pending"})})]}),(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[(0,i.jsx)("button",{onClick:()=>f(e.id),style:{padding:"10px 15px",background:"#667eea",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontWeight:"bold",fontSize:"14px",transition:"background 0.3s"},onMouseEnter:e=>e.target.style.background="#5568d3",onMouseLeave:e=>e.target.style.background="#667eea",children:"\uD83D\uDC41️ Preview"}),(0,i.jsx)("button",{onClick:()=>y(e.id),style:{padding:"10px 15px",background:"#28a745",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontWeight:"bold",fontSize:"14px",transition:"background 0.3s"},onMouseEnter:e=>e.target.style.background="#218838",onMouseLeave:e=>e.target.style.background="#28a745",children:"✓ Verify"})]})]})]},e.id))})]})})}},1163:function(e,r,t){e.exports=t(3079)}},function(e){e.O(0,[66,664,888,774,179],function(){return e(e.s=8932)}),_N_E=e.O()}]);