(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[920],{2345:function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cv",function(){return a(7359)}])},7359:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return s}});var n=a(5893),c=a(7294),o=a(7066),r=a(595);function s(){let[t,e]=(0,c.useState)([]),[a,s]=(0,c.useState)(""),[i,l]=(0,c.useState)(""),[u,h]=(0,c.useState)(""),[d,f]=(0,c.useState)("");return(0,c.useEffect)(()=>{let t=localStorage.getItem("token");f(t),t&&o.Z.get("http://localhost:4000/api/cv",{headers:{Authorization:"Bearer ".concat(t)}}).then(t=>e(t.data)).catch(()=>h("Failed to load CVs"))},[]),(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{children:"Your CVs"}),(0,n.jsx)(r.Z,{onSave:async n=>{h("");try{let c=localStorage.getItem("token"),r=await o.Z.post("http://localhost:4000/api/cv",{title:a||"My CV",content:n},{headers:{Authorization:"Bearer ".concat(c)}});e([...t,r.data])}catch(t){h("Failed to create CV")}}}),u&&(0,n.jsx)("p",{style:{color:"red"},children:u}),(0,n.jsx)("ul",{children:t.map(t=>(0,n.jsxs)("li",{children:[(0,n.jsx)("b",{children:t.title})," (v",t.version,")"]},t.id))})]})}}},function(t){t.O(0,[66,595,888,774,179],function(){return t(t.s=2345)}),_N_E=t.O()}]);