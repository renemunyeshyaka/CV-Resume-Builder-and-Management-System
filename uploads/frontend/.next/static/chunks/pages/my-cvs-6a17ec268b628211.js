(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[602],{2782:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/my-cvs",function(){return o(3028)}])},3028:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return d}});var n=o(5893),r=o(7294),i=o(1163),a=o(7066);let s="http://localhost:4000";function d(){let e=(0,i.useRouter)(),[t,o]=(0,r.useState)([]),[d,l]=(0,r.useState)(!0),[c,p]=(0,r.useState)(""),[u,x]=(0,r.useState)(null);(0,r.useEffect)(()=>{let t=localStorage.getItem("token");if(!t){e.push("/login");return}g(t)},[]);let g=async e=>{try{let t=await a.Z.get("".concat(s,"/api/cv"),{headers:{Authorization:"Bearer ".concat(e)}});o(t.data),l(!1)}catch(e){p("Failed to load your CVs"),l(!1)}},h=async e=>{if(window.confirm("Are you sure you want to delete this CV?")){x(e);try{let n=localStorage.getItem("token");await a.Z.delete("".concat(s,"/api/cv/").concat(e),{headers:{Authorization:"Bearer ".concat(n)}}),o(t.filter(t=>t.id!==e))}catch(e){alert("Failed to delete CV")}finally{x(null)}}},f=t=>{e.push("/cv/".concat(t))},y=t=>{e.push("/preview/".concat(t))};return d?(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",fontSize:"18px",color:"#667eea"},children:"Loading your CVs..."}):(0,n.jsx)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f8f9fa 0%, #f0f4ff 100%)",padding:"30px 20px"},children:(0,n.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"40px"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{style:{fontSize:"32px",fontWeight:"700",color:"#333",margin:"0 0 10px 0"},children:"\uD83D\uDCC4 My CVs"}),(0,n.jsx)("p",{style:{color:"#666",fontSize:"16px",margin:0},children:"Manage and edit your professional resumes"})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,n.jsx)("button",{onClick:()=>e.push("/user-dashboard"),style:{padding:"10px 20px",background:"#e8e8e8",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.3s ease"},onMouseOver:e=>e.target.style.background="#d8d8d8",onMouseOut:e=>e.target.style.background="#e8e8e8",children:"← Back"}),(0,n.jsx)("button",{onClick:()=>e.push("/create-cv"),style:{padding:"10px 20px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.3s ease"},onMouseOver:e=>e.target.style.background="#5568d3",onMouseOut:e=>e.target.style.background="#667eea",children:"+ Create New CV"})]})]}),c&&(0,n.jsxs)("div",{style:{background:"#fff5f5",border:"1px solid #dc3545",color:"#dc3545",padding:"15px",borderRadius:"6px",marginBottom:"20px"},children:["❌ ",c]}),0===t.length?(0,n.jsxs)("div",{style:{background:"white",padding:"60px 30px",borderRadius:"10px",textAlign:"center",boxShadow:"0 2px 10px rgba(0,0,0,0.08)"},children:[(0,n.jsx)("div",{style:{fontSize:"48px",marginBottom:"20px"},children:"\uD83D\uDCDD"}),(0,n.jsx)("h3",{style:{fontSize:"20px",fontWeight:"700",color:"#333",marginBottom:"10px"},children:"No CVs Yet"}),(0,n.jsx)("p",{style:{color:"#666",fontSize:"16px",marginBottom:"30px"},children:"You haven't created any CVs yet. Start building your professional resume today!"}),(0,n.jsx)("button",{onClick:()=>e.push("/create-cv"),style:{padding:"12px 30px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"600",transition:"all 0.3s ease"},onMouseOver:e=>e.target.style.transform="translateY(-2px)",onMouseOut:e=>e.target.style.transform="translateY(0)",children:"Create Your First CV"})]}):(0,n.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:"20px"},children:t.map(e=>(0,n.jsxs)("div",{style:{background:"white",borderRadius:"10px",boxShadow:"0 2px 10px rgba(0,0,0,0.08)",overflow:"hidden",transition:"all 0.3s ease"},onMouseOver:e=>e.currentTarget.style.boxShadow="0 8px 20px rgba(0,0,0,0.15)",onMouseOut:e=>e.currentTarget.style.boxShadow="0 2px 10px rgba(0,0,0,0.08)",children:[(0,n.jsxs)("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"20px",borderBottom:"1px solid #667eea"},children:[(0,n.jsx)("h3",{style:{margin:"0 0 10px 0",fontSize:"18px",fontWeight:"700"},children:e.title}),(0,n.jsxs)("p",{style:{margin:"0",fontSize:"12px",opacity:.9},children:["Version ",e.version]})]}),(0,n.jsxs)("div",{style:{padding:"20px"},children:[(0,n.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,n.jsx)("p",{style:{margin:"0 0 5px 0",fontSize:"12px",color:"#666",fontWeight:"600"},children:"Created"}),(0,n.jsx)("p",{style:{margin:"0",fontSize:"14px",color:"#333"},children:new Date(e.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),(0,n.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,n.jsx)("p",{style:{margin:"0 0 5px 0",fontSize:"12px",color:"#666",fontWeight:"600"},children:"Last Updated"}),(0,n.jsx)("p",{style:{margin:"0",fontSize:"14px",color:"#333"},children:new Date(e.updated_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),e.pdf_path&&(0,n.jsx)("div",{style:{marginBottom:"20px",padding:"10px",background:"#f0fdf4",borderRadius:"4px",borderLeft:"3px solid #28a745"},children:(0,n.jsx)("p",{style:{margin:"0",fontSize:"12px",color:"#155724",fontWeight:"600"},children:"✓ PDF Generated"})})]}),(0,n.jsxs)("div",{style:{padding:"15px 20px",borderTop:"1px solid #eee",display:"flex",gap:"10px"},children:[(0,n.jsx)("button",{onClick:()=>f(e.id),style:{flex:1,padding:"10px",background:"#667eea",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px",fontWeight:"600",transition:"all 0.3s ease"},onMouseOver:e=>e.target.style.background="#5568d3",onMouseOut:e=>e.target.style.background="#667eea",children:"✏️ Edit"}),(0,n.jsx)("button",{onClick:()=>y(e.id),style:{flex:1,padding:"10px",background:"#ffc107",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px",fontWeight:"600",transition:"all 0.3s ease"},onMouseOver:e=>e.target.style.background="#ffb300",onMouseOut:e=>e.target.style.background="#ffc107",children:"\uD83D\uDC41️ Preview"}),(0,n.jsx)("button",{onClick:()=>h(e.id),disabled:u===e.id,style:{flex:1,padding:"10px",background:u===e.id?"#ccc":"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:u===e.id?"not-allowed":"pointer",fontSize:"13px",fontWeight:"600",transition:"all 0.3s ease"},onMouseOver:e=>!u&&(e.target.style.background="#c82333"),onMouseOut:e=>!u&&(e.target.style.background="#dc3545"),children:u===e.id?"⏳ Deleting...":"\uD83D\uDDD1️ Delete"})]})]},e.id))})]})})}},1163:function(e,t,o){e.exports=o(3079)}},function(e){e.O(0,[66,888,774,179],function(){return e(e.s=2782)}),_N_E=e.O()}]);