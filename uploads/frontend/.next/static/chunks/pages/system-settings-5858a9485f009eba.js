(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[572],{7390:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/system-settings",function(){return i(2165)}])},2165:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return a}});var o=i(5893),n=i(7294),s=i(1163),r=i(7066);let l="http://localhost:4000";function a(){let e=(0,s.useRouter)(),[t,i]=(0,n.useState)({max_cv_per_user:10,max_file_size_mb:5,require_email_verification:!0,enable_otp_login:!0,session_timeout_minutes:60,allowed_file_types:".pdf,.doc,.docx,.jpg,.png"}),[a,d]=(0,n.useState)(!0),[p,c]=(0,n.useState)(!1),[x,u]=(0,n.useState)({text:"",type:""});(0,n.useEffect)(()=>{g()},[]);let g=async()=>{let t=localStorage.getItem("token");if(!t){e.push("/login");return}try{let e=await r.Z.get("".concat(l,"/api/admin/settings"),{headers:{Authorization:"Bearer ".concat(t)}});e.data&&i(e.data),d(!1)}catch(e){console.error("Error fetching settings:",e),d(!1)}},h=(e,t)=>{u({text:e,type:t}),setTimeout(()=>u({text:"",type:""}),3e3)},m=async e=>{e.preventDefault(),c(!0);let i=localStorage.getItem("token");try{await r.Z.put("".concat(l,"/api/admin/settings"),t,{headers:{Authorization:"Bearer ".concat(i)}}),h("Settings saved successfully","success")}catch(e){var o,n;h((null===(n=e.response)||void 0===n?void 0:null===(o=n.data)||void 0===o?void 0:o.error)||"Failed to save settings","error")}finally{c(!1)}};return a?(0,o.jsx)("div",{style:{padding:"40px",textAlign:"center"},children:"Loading..."}):(0,o.jsx)("div",{style:{padding:"40px",minHeight:"100vh",background:"#f5f5f5"},children:(0,o.jsxs)("div",{style:{maxWidth:"900px",margin:"0 auto"},children:[(0,o.jsxs)("div",{style:{marginBottom:"30px"},children:[(0,o.jsx)("h1",{style:{fontSize:"32px",fontWeight:"700",color:"#333",marginBottom:"10px"},children:"System Settings"}),(0,o.jsx)("button",{onClick:()=>e.push("/admin-dashboard"),style:{background:"none",border:"none",color:"#667eea",cursor:"pointer",fontSize:"14px"},children:"â† Back to Dashboard"})]}),x.text&&(0,o.jsx)("div",{style:{padding:"15px",marginBottom:"20px",borderRadius:"5px",background:"success"===x.type?"#d4edda":"#f8d7da",color:"success"===x.type?"#155724":"#721c24",border:"1px solid ".concat("success"===x.type?"#c3e6cb":"#f5c6cb")},children:x.text}),(0,o.jsxs)("form",{onSubmit:m,children:[(0,o.jsxs)("div",{style:{background:"white",padding:"30px",borderRadius:"10px",marginBottom:"20px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[(0,o.jsx)("h2",{style:{fontSize:"20px",marginBottom:"20px",color:"#333"},children:"General Settings"}),(0,o.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#333"},children:"Maximum CVs per User"}),(0,o.jsx)("input",{type:"number",min:"1",max:"100",value:t.max_cv_per_user,onChange:e=>i({...t,max_cv_per_user:parseInt(e.target.value)}),style:{width:"100%",padding:"12px",border:"1px solid #ddd",borderRadius:"5px",fontSize:"14px"}}),(0,o.jsx)("small",{style:{color:"#666",fontSize:"12px"},children:"Number of CVs each user can create"})]}),(0,o.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#333"},children:"Maximum File Size (MB)"}),(0,o.jsx)("input",{type:"number",min:"1",max:"50",value:t.max_file_size_mb,onChange:e=>i({...t,max_file_size_mb:parseInt(e.target.value)}),style:{width:"100%",padding:"12px",border:"1px solid #ddd",borderRadius:"5px",fontSize:"14px"}}),(0,o.jsx)("small",{style:{color:"#666",fontSize:"12px"},children:"Maximum size for uploaded files (photos, signatures)"})]}),(0,o.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#333"},children:"Session Timeout (Minutes)"}),(0,o.jsx)("input",{type:"number",min:"15",max:"480",value:t.session_timeout_minutes,onChange:e=>i({...t,session_timeout_minutes:parseInt(e.target.value)}),style:{width:"100%",padding:"12px",border:"1px solid #ddd",borderRadius:"5px",fontSize:"14px"}}),(0,o.jsx)("small",{style:{color:"#666",fontSize:"12px"},children:"How long users stay logged in without activity"})]}),(0,o.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#333"},children:"Allowed File Types"}),(0,o.jsx)("input",{type:"text",value:t.allowed_file_types,onChange:e=>i({...t,allowed_file_types:e.target.value}),placeholder:".pdf,.jpg,.png",style:{width:"100%",padding:"12px",border:"1px solid #ddd",borderRadius:"5px",fontSize:"14px"}}),(0,o.jsx)("small",{style:{color:"#666",fontSize:"12px"},children:"Comma-separated file extensions"})]})]}),(0,o.jsxs)("div",{style:{background:"white",padding:"30px",borderRadius:"10px",marginBottom:"20px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[(0,o.jsx)("h2",{style:{fontSize:"20px",marginBottom:"20px",color:"#333"},children:"Security Settings"}),(0,o.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,o.jsxs)("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[(0,o.jsx)("input",{type:"checkbox",checked:t.require_email_verification,onChange:e=>i({...t,require_email_verification:e.target.checked}),style:{marginRight:"10px",width:"18px",height:"18px",cursor:"pointer"}}),(0,o.jsx)("span",{style:{fontSize:"14px",fontWeight:"600",color:"#333"},children:"Require Email Verification"})]}),(0,o.jsx)("small",{style:{color:"#666",fontSize:"12px",marginLeft:"28px"},children:"Users must verify their email before accessing the system"})]}),(0,o.jsxs)("div",{style:{marginBottom:"0"},children:[(0,o.jsxs)("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[(0,o.jsx)("input",{type:"checkbox",checked:t.enable_otp_login,onChange:e=>i({...t,enable_otp_login:e.target.checked}),style:{marginRight:"10px",width:"18px",height:"18px",cursor:"pointer"}}),(0,o.jsx)("span",{style:{fontSize:"14px",fontWeight:"600",color:"#333"},children:"Enable OTP Login"})]}),(0,o.jsx)("small",{style:{color:"#666",fontSize:"12px",marginLeft:"28px"},children:"Require one-time password for each login"})]})]}),(0,o.jsxs)("div",{style:{display:"flex",gap:"15px"},children:[(0,o.jsx)("button",{type:"submit",disabled:p,style:{padding:"12px 30px",background:"#667eea",color:"white",border:"none",borderRadius:"5px",cursor:p?"not-allowed":"pointer",fontWeight:"600",fontSize:"14px",opacity:p?.7:1},children:p?"Saving...":"Save Settings"}),(0,o.jsx)("button",{type:"button",onClick:g,style:{padding:"12px 30px",background:"#6c757d",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontWeight:"600",fontSize:"14px"},children:"Reset"})]})]})]})})}},1163:function(e,t,i){e.exports=i(3079)}},function(e){e.O(0,[66,888,774,179],function(){return e(e.s=7390)}),_N_E=e.O()}]);